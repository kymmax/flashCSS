/*!
 * flashCSS 1.0.7
 * 2022-03-29
 * https://github.com/kymmax/flashCSS
 * 
 * @license Copyright 2022, flashCSS. All rights reserved.
 * @author: Jason Kuo, kymmax0420@gmail.com
 * 
 * Licensed MIT
 */
window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),String.prototype.includes||(String.prototype.includes=function(){'use strict';return-1!==String.prototype.indexOf.apply(this,arguments)}),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});function flashCSS(a){a?a:a={};var b=this,c={xs:"0px",sm:(a.media&&a.media.sm?a.media.sm:576)+"px",md:(a.media&&a.media.md?a.media.md:768)+"px",lg:(a.media&&a.media.lg?a.media.lg:992)+"px",xl:(a.media&&a.media.xl?a.media.xl:1280)+"px"},d="";Object.keys(c).forEach(function(a,b,c){d+=a+(b==c.length-1?"":"|")});var e=new RegExp("^("+d+")$","g"),f={d:["display"],flexDir:["flex-direction"],justifyContent:["justify-content"],alignItems:["align-items"],alignSelf:["align-self"],justifyAlign:["justify-content","align-items"],flexWrap:["flex-wrap"],order:["order"],flex:["flex"],ps:["position"],w:["width"],h:["height"],wh:["width","height"],maxw:["max-width"],minw:["min-width"],maxh:["max-height"],minh:["min-height"],gTempCol:["grid-template-columns"],gAutoRow:["grid-auto-rows"],gColStart:["grid-column-start"],gColEnd:["grid-column-end"],gRowStart:["grid-row-start"],gRowEnd:["grid-row-end"],gColGap:["grid-column-gap"],gRowGap:["grid-row-gap"],colCount:["column-count"],colGap:["column-gap"],colSpan:["column-span"],p:["padding"],pr:["padding-right"],pl:["padding-left"],pt:["padding-top"],pb:["padding-bottom"],px:["padding-left","padding-right"],py:["padding-top","padding-bottom"],m:["margin"],mr:["margin-right"],ml:["margin-left"],mt:["margin-top"],mb:["margin-bottom"],mx:["margin-left","margin-right"],my:["margin-top","margin-bottom"],at:["top"],ab:["bottom"],al:["left"],ar:["right"],fz:["font-size"],fl:["letter-spacing"],fh:["line-height"],fa:["text-align"],fw:["font-weight"],br:["border"],bw:["border-width"],bc:["border-color"],bs:["border-style"],round:["border-radius"],sdb:["box-shadow"],sdt:["text-shadow"],color:["color"],bg:["background"],bgc:["background-color"],ts:["transition"],tf:["transform"],tfStyle:["transform-style"],tfOrigin:["transform-origin"],tt:["text-transform"],o:["opacity"],ov:["overflow"],ws:["white-space"],pointer:["pointer-events"],z:["z-index"],objFit:["object-fit"],objPos:["object-position"],ani:["animation"],filter:["filter"],blend:["mix-blend-mode"],ratio:["aspect-ratio"]},g="";Object.keys(f).forEach(function(a,b,c){g+=a+(b==c.length-1?"":"|")});var h=new RegExp("^("+g+")$","g"),i={".":".",neg:"-","%":"%","#":"#",_:" ",",":",","(":"(",")":")","/":"/","!":" !important"},j="";Object.keys(i).forEach(function(a,b,c){a.match(/([(]|[)]|[.])/g)&&(a="["+a+"]"),j+=a+(b==c.length-1?"":"|")});var k=new RegExp("("+j+")","g"),l=a.link?a.link:"-",m="",n=[],o={};Object.keys(c).forEach(function(a){o[a]=""}),this.init=function(c,d){var g=c.getAttribute("class").split(" ");g.forEach(function(c){var g=!1,j=c.split(l)[0],p=j.replace(h,function(a){return g=!0,f[a]});if(g){var q,r,s=!1,t=c.split(l)[1],u=t.replace(e,function(a){return s=!0,a});if(s?q=r=c.split(j+l+u+l)[1]:(u="",q=r=c.split(j+l)[1]),q=q.replace(k,function(a,b){return(0<b?"":"\\")+a}),r=r.replace(k,function(a,b){return i[b]}),r.includes("rgba")&&r.includes("#")){var v=r.split("#")[1].substring(0,6),w=b.hexToRgb("#"+v);r=r.replace("#"+v,w.r+","+w.g+","+w.b)}var x=j+("\\"+l)+(s?u+("\\"+l):"")+q;if(!n.includes(x)){n.push(x);var y="";p.split(",").forEach(function(b){y+=b+": "+r+(a.important?" !important":";")});var z="."+x+"{"+y+"} ";return d?b.update(u,z):void(s?o[u]+=z:m+=z)}}})},this.setMedia=function(){Object.keys(o).forEach(function(a){m+="@media (min-width:"+c[a]+") {"+o[a]+"} "})},this.update=function(a,b){var d=document.querySelectorAll("style[data-css=\"flashCSS\"]")[0],e=d.textContent.split(c[a]+") {");d.textContent=a?e[0]+c[a]+") {"+b+e[1]:[b,d.textContent].join(" ")},this.setTag=function(){var b=document.createElement("style");b.type="text/css",b.setAttribute("data-css","flashCSS"),b.appendChild(document.createTextNode(m));var c=document.getElementsByTagName(a.style?a.style:"head")[0];c.appendChild(b),a.onCompleted&&a.onCompleted()},this.observer=function(){var a=document.querySelectorAll("[class]"),c=new MutationObserver(function(a){a.forEach(function(a){"class"===a.attributeName&&(console.log("Class attribute changed"),b.init(a.target,!0))})});a.forEach(function(a){c.observe(a,{attributes:!0})})},this.hexToRgb=function(a){var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return b?{r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16)}:null},a.observe&&this.observer(),this.reInit=function(){document.querySelectorAll("[class]").forEach(function(a){b.init(a,!0)})},document.querySelectorAll("[class]").forEach(function(a){b.init(a)}),this.setMedia(),this.setTag()}